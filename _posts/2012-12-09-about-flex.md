---
author: lieeGin
comments: true
date: 2012-12-09 13:56:55+00:00
layout: post
slug: about-flex
title: 肤浅地写一点关于flex的东西
wordpress_id: 295
categories:
- 前端/应用开发
---

这次想写一点关于flex的东西，但是可以分享的东西并不是很多。今年2月份才开始接触flex。而真正使用是在8,9月份的时候才开始真正的去开发。说是开发，实际也只是模仿他人的代码写东西。

flex，我感觉，简单的说就是一种前台的框架，包含actionscript脚本语言，语法和java类似，控件布局mxml则与html类似，所以说，要学习使用其实也并不是很难，一般程序员了解了基本的控件的使用，差不多就会简单的使用它了。下面说的这些东西都是我平时用到的最多的东西，或者遇到过的问题，大家虽然没有接触过，应该也能看明白的。

我在工作中使用到的东西，一是前台控件的使用。包括它们的赋值，取值。实际用的比较多的就是，给下拉框，表格赋值，一般都是绑定某个或者某组对象。比如下拉框，直接可以设置 id.dataProvider=XXX(ArrayCollection)即可，当然，一般还需要设置下拉框的显示值和真正读取的值，所以一般都是会在定义一个下拉框的时候，设置他的valueField和textField。比如一个下拉框，用于选择所有用户，那么，可以这样定义一它。<g:ComboBox id="userList"  valueField="id" textField="userName" width="120" />，假设你有一个对象为User，它包含id，和userName属性，那么，这个下拉框在显示的时候，你看到的就是userName的值，但是你取userList.value的时候，取到的则是id。这种绑定对象的的确是用到的最多。

另外就是，我在实际使用过程中遇到过这样的情况，下拉框的change事件（就是点下拉框后，选择一个选项时触发的方法）响应之后，下拉框没有自动关闭。实际使用情况是这样:change事件方法里面会有一个弹出框，选择是或否，确定是否要改变下拉框的值，如果没有这个弹出框，下拉选择之后，控件可以正常使用。加上这个弹出框之后，在弹出框出现的时候，下拉框没有关闭，选择之后，下拉框依然没有关闭，再次选择下拉框里面的值，才能关闭。这个问题，我没有找到根本的原因，页面没有出现报错的情况。纠结了很久之后是想了另外一种方法代替实现，那就是，出发change事件的时候，不给出弹出框，而是记录下控件之前选择的值和新选择的值，当它自动执行它的close事件的时候，再去给出弹出框，通过弹出框的选择来确定下拉框的值是否要改变。

上周工作中还遇到这样一个问题，flex的dataGrid，就是表格，已经绑定的某一指定的对象，但是，在显示中需要动态加上列，就是说，要动态给这个对象添加属性（dataGrid通过属性的名称与定义列名相同来绑定显示数据），我发现对于Object的对象数据，可以这样使用：

var obj:Object = new Object();

obj.abc="abc属性";

这样就相当于这个obj有一个名为abc的属性了。但是我使用一个我自己定义的对象（类似java的bean），却在这样使用的时候报错，提示无法为XXX对象创建XXX属性。自己纠结了好久，后来是问了同事，才知道，如果需要动态添加属性，需要将这个对象的类定义成动态类。仅仅需要将public class AAA定义成public dynamic class AAA，那么在使用AAA的对象时就可以动态添加属性了。

其实，像这些东西，书本教材上可能不一定会有，一旦出现这样的问题，真的是感觉相当纠结，有点无解的感觉，无从下手，因为根本不知道是哪里有问题。当然，这主要因为自己的这门技术没有完全掌握。所以在实战过程中，也是一点一点学习技术的时候。




